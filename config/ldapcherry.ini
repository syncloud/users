[global]

# listing interface
server.socket_file = '{{ snap_data }}/ldapcherry.sock'

server.thread_pool = 8

tools.sessions.on = True
tools.sessions.timeout = 10

log.access_handler = 'syslog'
log.error_handler = 'syslog'
log.level = 'info'

[backends]

ldap.module = 'ldapcherry.backend.backendLdap'
ldap.display_name = 'Syncloud'
ldap.uri = 'ldap://localhost'
#ldap.ca = '/etc/dnscherry/TEST-cacert.pem'
#ldap.starttls = 'off'
#ldap.checkcert = 'off'
ldap.binddn = 'cn=admin,dc=syncloud,dc=org'
ldap.password = 'syncloud'
ldap.timeout = 1
ldap.groupdn = 'ou=groups,dc=syncloud,dc=org'
ldap.userdn = 'ou=users,dc=syncloud,dc=org' 
# ldapsearch filter to get one specific user 
# %(username)s is content of the attribute marked 'key: True' in the attributes.file config file
ldap.user_filter_tmpl = '(uid=%(username)s)' 
# ldapsearch filter to get groups of a user 
# %(username)s is content of the attribute marked 'key: True' in the attributes.file config file 
ldap.group_filter_tmpl = '(member=uid=%(username)s,ou=groups,dc=syncloud,dc=org)' 
# filter to search users # %(searchstring)s is the content passed through the search box 
ldap.search_filter_tmpl = '(|(uid=%(searchstring)s*)(sn=%(searchstring)s*))' 
# ldap group attributes and how to fill them 
# 'member' is the name of the attribute 
# for the template, any of the user's ldap attributes can be user 
ldap.group_attr.member = "%(dn)s" 
# same with memverUid and the uid user's attribute 
#ldap.group_attr.memberUid = "%(uid)s" 
# object classes of a user entry 
ldap.objectclasses = 'inetOrgPerson' 
# dn entry attribute for an ldap user 
ldap.dn_user_attr = 'uid' 

[auth]
auth.mode = 'and'

